---
title: "EcoCanvas 캠페인 중간점검"
date: 2023-06-20
subtitle: "interim-check"
category: "Django"
draft: false
---

프로젝트 진행도가 반 이상 지난 시점에서 중간점검을 코드 리뷰를 통해 진행했다.

# Interim Check

## Chat

1. Q. 왜 token으로 쿼리스트링?
   = userId로도 가능은하다 token으로 할 시 url을 통한 특정이나 보안에서 더 안전하기 때문에 token을 사용

코드 자체가 생소해서 Websocket 개념과 함께 제대로 공부해봐야할 것.

## Payment

2. Q. 카드정보는 민감한 정보이다. 그냥 저장하기보다 보안에 대해서 생각해보았는지

- \*\*\*\* 표시로 저장하게끔 or DB에 저장할때 유저가 입력한 값을 해쉬로 저장할건지 고민중

값에 대한 사용처가 많은 정보 (주민등록 번호등) 민감하지만 사측에서 굉장히 재사용을 많이하는정보
= 양방향 암호화를 많이 사용한다.(특정암호화를 정하고 암호화 복호화를 함수로 지정한 후 그 함수로 암복호화를 진행)
as256를 많이 사용한다

[참고자료](https://velog.io/@hwangninaa/%EC%96%91%EB%B0%A9%ED%96%A5-%EC%95%94%ED%98%B8%ED%99%94)

3. Q. 결제에서 Permission이 없어도 되는가

Payment = Shop에 Permission
Funding = Campaign에 Permission
이미 다 결제가 붙는 모델들에 Permission에 붙어있긴 해서 Permission설정을 따로 해줘야할까 하는 고민중.

Q. 오더 결제창을 띄워둔 채로 자리를 2시간 비웠다. 
이러면 토큰이 만료된 상태에서 결제를 진행하였을 때 어떻게 될지.
이 상황을 생각해보면 퍼미션이 필요할 것.

User 4. 소셜계정이 구글은 일반유저인지 구글인지 구분이 안되는 상황
어플리케이션은 등록이 되어있는데 뷰에서 email등이 안넣어져서 그런 것 같다

elif check_code == "":
이런식보단 길이값 비교나 null로 비교한다던지 하는 방식이 좋을 것 같다

Campaign
리뷰 코멘트 DetailView 합치기
작성자
제목내용
댓글내용 통합검색기능
검색도 좋지만

카테고리
날짜
태그
청소 펀딩 물품후원

캠페인 참가 못하게끔끝나면
캠페인
이캠페인 아이디를 통해서 필터카운트롤 통해서 갯수를 가져오고 멤버스가 넘지못하도록
리시버 포스트시그널을 감지하면 크리에이트라는 필드가있는데크리에이트가 아닐때 save(필드) 거기서 참가자 필드에 대한 수정이 일어나는걸 감지할 수 있음
post_save일어난후 pre_save일어나기전 sender=campagin
def
members = kwargs[''참가자'']
if not created and member:
일 경우 아래를 시작하라
멤
리시비ㅓ 많으면 코드파편화가 많이 일어난다

그냥 뷰에서 해도 될 것 같기는 하다
모집인원과 +1했을때 같거나 작으면성공 안되면 실패
participant를 카운트하고 member랑 비교
campaign_id Count participan의 갯수 values로 가져오고
queryset의 멤버ㅏㅇ 비교
num = queryset.participant.count()

페이지네이션 시리얼라이저 전후처리 문제
전체데이터를 시리얼라이징하는건가? 아니면 6개만 잘라서 시리얼라이징 하는건가?

필터에서는 필터 없도록 하기
파라미터로 할수도있다 id는 근데 파라미터로 ㅎ자ㅣ는않는다
시리얼라이저 벨리데이션

캠페인 더미데이터 json화해서 불러오고 테스트 분량 줄이기
dummydata.json

그린피스 UI

해시태그로 처리할건지 카테고리만 나눌건지 둘다 해볼건지
해시태그는 쓴다면 어떤식으로 활용할건지 추가논의

Shop
조회수 처리
통합검색?
알림 어떻게 할건지 더 구체적으로 결정
너무어렵다
